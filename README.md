# ATND

## **0. 서비스 개요**

**ATND**는

출석체크가 필요한 **모든 조직**을 위한

**웹 기반 출석 관리 서비스**이다.

- 모든 사용자는 **회원(Member)** 이다.
- 조직 내 역할:
    - **매니저(Manager)**
    - **회원(Member)**
- 조직당 매니저는 1명
- 출석은 **일정(Event)** 단위로 관리
- 출석 상태는 **출석 / 미출석**으로만 구분

---

## **1. 회원 계정 및 인증**

### **1.1 회원가입 / 로그인**

### 로그인 방식 (2가지)

- Google OAuth
- 이메일 + 비밀번호

### 회원 정보

- 이름
- 이메일 (전역 유니크)
- 프로필 이미지 (선택)

---

### **1.2 프로필 관리**

- 조회: 이름, 이메일, 프로필 이미지, 소속 조직
- 수정 가능: 이름, 프로필 이미지
- 수정 불가: 이메일

---

### **1.3 로그아웃 / 회원탈퇴**

- 로그아웃: 세션 종료
- 회원탈퇴:
    - 계정 삭제
    - 조직에서 자동 제거
    - 매니저인 조직이 있는 경우 → 위임 후 탈퇴 가능

---

## **2. 조직(Organization)**

### **2.1 조직 생성**

- 회원은 조직 생성 가능
- 생성자는 자동으로 **매니저**

### 조직 정보

- 조직 이름
- 조직 설명 (선택)
- 조직 대표 이미지 (선택)

---

### **2.2 조직 역할**

### 역할

- 매니저 (1명)
- 회원

### 매니저 권한

- 조직 정보 수정 / 삭제
- 회원 강퇴
- 매니저 위임
- 초대 코드 관리
- 일정(Event) 생성 / 수정 / 삭제
- 출석 현황 조회

> 매니저는 모든 회원 권한 포함
> 

---

### **2.3 조직 가입**

- 초대 코드 입력 방식
- 기본 역할: 회원

---

### **2.4 조직 탈퇴**

- 회원: 언제든 가능
- 매니저: 위임 전까지 불가

---

## **3. 일정(Event) 관리**

일정은 출석 체크의 최소 단위이다.

(회의, 근무, 수업, 스터디, 모임 등)

---

### **3.1 일정 정보 구조 (수정됨)**

- 일정 제목
- 일정 날짜
- **출석 가능 시작 시간**
- **출석 종료 시간**
- 출석 인정 반경 (미터 단위)
- 장소 이름 (선택)
- 장소 주소 (선택)
- 위치 좌표 (위도 / 경도)

❌ 제거됨

- 지각 기준 시간
- 지각 관련 비용/정책

---

### **3.2 일정 생성 (매니저)**

- 매니저만 가능
- 출석 가능 시작 시간이 현재보다 과거면 생성 불가
- 다수 일정 사전 생성 가능

---

### **3.3 일정 수정 / 삭제 (매니저)**

- **출석 가능 시작 시간 이전까지만 가능**
- 출석 시작 이후:
    - 수정 불가
    - 삭제 불가

---

### **3.4 일정 목록 조회**

- 회원 / 매니저 공통
- 상태 구분:
    - 예정
    - 진행 중
    - 종료됨

---

## **4. 출석 체크**

### **4.1 출석 체크 조건**

1. 해당 조직 소속 회원
2. **출석 가능 시작 시간 ≤ 현재 ≤ 출석 종료 시간**
3. GPS 위치가 출석 인정 반경 내

---

### **4.2 출석 상태 (단순화)**

- `NOT_ATTENDED`
    - 출석 가능 시간 이전
- `ATTENDED`
    - 출석 가능 시간 ~ 종료 시간 내 체크 완료
- `ABSENT`
    - 종료 시각까지 체크하지 않은 경우 (자동)

> ❌ LATE 상태 완전 제거
> 

---

### **4.3 출석 방식**

- 웹 버튼 클릭
- 브라우저 Geolocation API 사용

---

### **4.4 출석 현황 조회 (매니저)**

- 일정별 출석 상태 목록
- 회원별 출석 체크 시각 확인

---

## **5. 권한 요약 (수정 반영)**

| 기능 | 회원 | 매니저 |
| --- | --- | --- |
| 조직 생성 | O | O |
| 조직 정보 수정 | X | O |
| 조직 삭제 | X | O |
| 조직 가입 | O | O |
| 조직 탈퇴 | O | X |
| 회원 목록 조회 | O | O |
| 회원 강퇴 | X | O |
| 매니저 위임 | X | O |
| 일정 생성 | X | O |
| 일정 수정/삭제 | X | O (시작 전) |
| 출석 체크 | O | O |
| 출석 현황 조회 | X | O |

---

## **6. 명확히 제외된 기능**

- ❌ 지각 개념
- ❌ 출석 통계 / 대시보드
- ❌ 비용/정산
- ❌ 알림(SMS, 카카오 등)
- ❌ 반복 일정
- ❌ 모바일 앱

---

## **7. 기술 스택 (변경 없음)**

- **Web Only**
- Next.js (App Router)
- NextAuth (Google + Email)
- Supabase (PostgreSQL)
- 브라우저 Geolocation API
- Tailwind CSS